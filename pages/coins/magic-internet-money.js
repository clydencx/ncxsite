import styles from '../../styles/Coins.module.css'

import { useState, useEffect } from 'react'

function MagicInternet() {
    const [data, setData] = useState([])

    useEffect(() => {
        fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=magic-internet-money&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=1h%2C24%2C7d').then((res) => res.json()).then((data) => {
            setData(data)
        })
        .catch((err) => {
            console.log(err)
        })
    }, [])

    return (
        <>
            {
                data.map((item) => (
                    <div key={item.id} className={styles.coin__container}>
                        <div className={styles.coin__row}>
                            <div className={styles.coin__data}>
                            <div className={styles.icons_sym}>
                                <img className={styles.coin_logo} src="https://assets.coingecko.com/coins/images/16786/large/mimlogopng.png" />
                                <p className={styles.coin__symbol}>{item.name} <span className={styles.symbol_span}>{item.symbol}</span> </p>
                            </div>
                                <p className={styles.coin__price}>${item.current_price.toLocaleString('en')}</p>
                                {item.price_change_percentage_24h < 0 ? (
                                    <p className={styles.red}>{item.price_change_percentage_24h.toFixed(2)}%</p>
                                ) : (
                                    <p className={styles.green}>+{item.price_change_percentage_24h.toFixed(2)}%</p>
                                )}
                                <p className={styles.coin__high_24}>${item.market_cap.toLocaleString()}</p>
                                <p className={styles.coin__low_24}>${item.total_volume.toLocaleString()}</p>
                                <div className={styles.coin__innerrow}>
                                <p className={styles.coin__graph}><svg width="95" height="30"><defs><linearGradient id="area-gradientBPXUSDT#45B26B" x2="1" y2="1"><stop offset="10%" stopColor="#45B26B" stopOpacity="0.01"></stop><stop offset="100%" stopColor="#45B26B" stopOpacity="0.5"></stop></linearGradient></defs><path d="M0,16.500000000000007L0.6884057971014492,16.500000000000004C1.3768115942028984,16.500000000000007,2.753623188405797,16.500000000000007,4.130434782608695,16.500000000000004C5.507246376811594,16.500000000000007,6.884057971014492,16.500000000000007,8.26086956521739,16.500000000000004C9.63768115942029,16.500000000000007,11.014492753623188,16.500000000000007,12.391304347826086,16.500000000000004C13.768115942028984,16.500000000000007,15.144927536231883,16.500000000000007,16.52173913043478,16.500000000000004C17.89855072463768,16.500000000000007,19.27536231884058,16.500000000000007,20.652173913043477,16.500000000000004C22.028985507246375,16.500000000000007,23.40579710144927,16.500000000000007,24.782608695652172,16.500000000000004C26.159420289855074,16.500000000000007,27.53623188405797,16.500000000000007,28.91304347826087,16.500000000000004C30.28985507246377,16.500000000000007,31.666666666666668,16.500000000000007,33.04347826086956,16.500000000000004C34.42028985507246,16.500000000000007,35.79710144927537,16.500000000000007,37.17391304347826,16.500000000000004C38.550724637681164,16.500000000000007,39.927536231884055,16.500000000000007,41.30434782608695,16.500000000000004C42.68115942028985,16.500000000000007,44.05797101449275,16.500000000000007,45.43478260869565,16.500000000000004C46.811594202898554,16.500000000000007,48.188405797101446,16.500000000000007,49.565217391304344,16.500000000000004C50.94202898550724,16.500000000000007,52.31884057971015,16.500000000000007,53.69565217391304,16.500000000000004C55.07246376811594,16.500000000000007,56.44927536231884,16.500000000000007,57.82608695652174,18.293000000000006C59.20289855072465,20.08600000000001,60.57971014492754,23.672000000000008,61.95652173913044,25.465000000000007C63.333333333333336,27.258000000000006,64.71014492753623,27.258000000000006,66.08695652173913,27.258000000000006C67.46376811594202,27.258000000000006,68.84057971014492,27.258000000000006,70.21739130434783,27.258000000000006C71.59420289855073,27.258000000000006,72.97101449275362,27.258000000000006,74.34782608695652,27.258000000000006C75.72463768115942,27.258000000000006,77.10144927536233,27.258000000000006,78.4782608695652,27.258000000000006C79.85507246376811,27.258000000000006,81.23188405797102,27.258000000000006,82.60869565217392,22.715500000000006C83.98550724637681,18.17300000000001,85.3623188405797,9.088000000000013,86.73913043478262,4.545500000000015C88.1159420289855,0.003000000000016323,89.49275362318842,0.003000000000016323,90.86956521739131,0.003000000000016323C92.2463768115942,0.003000000000016323,93.62318840579711,0.003000000000016323,94.31159420289855,0.003000000000016323L95,0.003000000000016323L95,95.99999999999999L94.31159420289855,95.99999999999999C93.62318840579711,95.99999999999999,92.2463768115942,95.99999999999999,90.86956521739131,95.99999999999999C89.49275362318842,95.99999999999999,88.1159420289855,95.99999999999999,86.73913043478261,95.99999999999999C85.3623188405797,95.99999999999999,83.98550724637681,95.99999999999999,82.60869565217392,95.99999999999999C81.23188405797102,95.99999999999999,79.85507246376811,95.99999999999999,78.4782608695652,95.99999999999999C77.10144927536233,95.99999999999999,75.72463768115942,95.99999999999999,74.34782608695653,95.99999999999999C72.97101449275362,95.99999999999999,71.59420289855073,95.99999999999999,70.21739130434783,95.99999999999999C68.84057971014492,95.99999999999999,67.46376811594202,95.99999999999999,66.08695652173913,95.99999999999999C64.71014492753623,95.99999999999999,63.333333333333336,95.99999999999999,61.95652173913044,95.99999999999999C60.57971014492754,95.99999999999999,59.20289855072465,95.99999999999999,57.82608695652174,95.99999999999999C56.44927536231884,95.99999999999999,55.07246376811594,95.99999999999999,53.69565217391304,95.99999999999999C52.31884057971015,95.99999999999999,50.94202898550724,95.99999999999999,49.565217391304344,95.99999999999999C48.188405797101446,95.99999999999999,46.811594202898554,95.99999999999999,45.434782608695656,95.99999999999999C44.05797101449275,95.99999999999999,42.68115942028985,95.99999999999999,41.30434782608696,95.99999999999999C39.927536231884055,95.99999999999999,38.550724637681164,95.99999999999999,37.17391304347826,95.99999999999999C35.79710144927537,95.99999999999999,34.42028985507246,95.99999999999999,33.04347826086956,95.99999999999999C31.666666666666668,95.99999999999999,30.28985507246377,95.99999999999999,28.913043478260875,95.99999999999999C27.53623188405797,95.99999999999999,26.159420289855074,95.99999999999999,24.782608695652172,95.99999999999999C23.40579710144927,95.99999999999999,22.028985507246375,95.99999999999999,20.652173913043477,95.99999999999999C19.27536231884058,95.99999999999999,17.89855072463768,95.99999999999999,16.52173913043478,95.99999999999999C15.144927536231883,95.99999999999999,13.768115942028984,95.99999999999999,12.391304347826086,95.99999999999999C11.014492753623188,95.99999999999999,9.63768115942029,95.99999999999999,8.26086956521739,95.99999999999999C6.884057971014492,95.99999999999999,5.507246376811594,95.99999999999999,4.130434782608695,95.99999999999999C2.753623188405797,95.99999999999999,1.3768115942028984,95.99999999999999,0.6884057971014492,95.99999999999999L0,95.99999999999999Z" fill="url(#area-gradientBPXUSDT#45B26B)" className="strokePath"></path><path d="M0,16.500000000000007L0.6884057971014492,16.500000000000004C1.3768115942028984,16.500000000000007,2.753623188405797,16.500000000000007,4.130434782608695,16.500000000000004C5.507246376811594,16.500000000000007,6.884057971014492,16.500000000000007,8.26086956521739,16.500000000000004C9.63768115942029,16.500000000000007,11.014492753623188,16.500000000000007,12.391304347826086,16.500000000000004C13.768115942028984,16.500000000000007,15.144927536231883,16.500000000000007,16.52173913043478,16.500000000000004C17.89855072463768,16.500000000000007,19.27536231884058,16.500000000000007,20.652173913043477,16.500000000000004C22.028985507246375,16.500000000000007,23.40579710144927,16.500000000000007,24.782608695652172,16.500000000000004C26.159420289855074,16.500000000000007,27.53623188405797,16.500000000000007,28.91304347826087,16.500000000000004C30.28985507246377,16.500000000000007,31.666666666666668,16.500000000000007,33.04347826086956,16.500000000000004C34.42028985507246,16.500000000000007,35.79710144927537,16.500000000000007,37.17391304347826,16.500000000000004C38.550724637681164,16.500000000000007,39.927536231884055,16.500000000000007,41.30434782608695,16.500000000000004C42.68115942028985,16.500000000000007,44.05797101449275,16.500000000000007,45.43478260869565,16.500000000000004C46.811594202898554,16.500000000000007,48.188405797101446,16.500000000000007,49.565217391304344,16.500000000000004C50.94202898550724,16.500000000000007,52.31884057971015,16.500000000000007,53.69565217391304,16.500000000000004C55.07246376811594,16.500000000000007,56.44927536231884,16.500000000000007,57.82608695652174,18.293000000000006C59.20289855072465,20.08600000000001,60.57971014492754,23.672000000000008,61.95652173913044,25.465000000000007C63.333333333333336,27.258000000000006,64.71014492753623,27.258000000000006,66.08695652173913,27.258000000000006C67.46376811594202,27.258000000000006,68.84057971014492,27.258000000000006,70.21739130434783,27.258000000000006C71.59420289855073,27.258000000000006,72.97101449275362,27.258000000000006,74.34782608695652,27.258000000000006C75.72463768115942,27.258000000000006,77.10144927536233,27.258000000000006,78.4782608695652,27.258000000000006C79.85507246376811,27.258000000000006,81.23188405797102,27.258000000000006,82.60869565217392,22.715500000000006C83.98550724637681,18.17300000000001,85.3623188405797,9.088000000000013,86.73913043478262,4.545500000000015C88.1159420289855,0.003000000000016323,89.49275362318842,0.003000000000016323,90.86956521739131,0.003000000000016323C92.2463768115942,0.003000000000016323,93.62318840579711,0.003000000000016323,94.31159420289855,0.003000000000016323L95,0.003000000000016323" stroke="#45B26B" fill="transparent" strokeWidth="1" className="strokePath"></path></svg></p>
                                <button className={styles.btn_buy}>Buy</button>
                                </div>
                            </div>
                        </div>
                    </div>
                ))
            }
        </>
    )
}

export default MagicInternet

